<!DOCTYPE HTML>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
  <meta charset="utf-8">
  
  <title>Rails Study | Hadwin's Blog</title>
  <meta name="author" content="Hadwin Zheng">
  
  <meta name="description" content="Rails Philosophy

DRY – “Don’t Repeat Yourself” – suggests that writing the same code over and over again is a bad thing.
Convention Over Configuration – means that Rails makes assumptions about what you want to do and how you’re going to do it, rather than requiring you to specify every little thing through endless configuration files.
REST is the best pattern for web applications – organizing your application around resources and standard HTTP verbs is the fastest way to go.
Using resource identifiers such as URLs to represent resources.
Transferring representations of the state of that resource between system components.



Install Rails

according to steps on offical website do 1
gem install rails; rails new rails-test; cd rails-test; rails server






when running rails server i met such problem:1
2
3
$ rails server
/home/zheng/.rvm/gems/ruby-2.0.0-p0/gems/execjs-1.4.0/lib/execjs/runtimes.rb:51:in `autodetect': Could not find a JavaScript runtime. 
See https://github.com/sstephenson/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)





This means i need a js engine, and i install the nodejs instead, and it&amp;#39;s ok

try to open localhost:3000, and you&amp;#39;ll see welcome page

Switch to MySQL instead of SQLite3:  

the config file is in config/database.yml and change the &quot;development&quot; section like that    
add gem &amp;#39;mysql2&amp;#39; to Gemfile
run rake db:create to check is there any problem 1
2
3
4
5
6
7
8
development:
    adapter: mysql2
    encoding: utf8
    database: rails-test
    pool: 5
    username: root
    password:
    socket: /var/run/mysqld/mysqld.sock







 Remember the test section will also be set to mySQL">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Rails Study"/>
  <meta property="og:site_name" content="Hadwin's Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Hadwin's Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  

  <meta property="wb:webmaster" content="bdace20ef6be50da" />
  <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Hadwin's Blog</a></h1>
  <h2><a href="/">Developer, Photographer and now is Co-Founder at Gurudigger</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-04-24T09:15:00.000Z"><a href="/2013/04/24/rails-study/">Apr 24 2013</a></time>
      
      
  
    <h1 class="title">Rails Study</h1>
  

    </header>
    <div class="entry">
      
        <h2>Rails Philosophy</h2>
<ol>
<li>DRY – “Don’t Repeat Yourself” – suggests that writing the same code over and over again is a bad thing.</li>
<li>Convention Over Configuration – means that Rails makes assumptions about what you want to do and how you’re going to do it, rather than requiring you to specify every little thing through endless configuration files.</li>
<li>REST is the best pattern for web applications – organizing your application around resources and standard HTTP verbs is the fastest way to go.<ul>
<li>Using resource identifiers such as URLs to represent resources.</li>
<li>Transferring representations of the state of that resource between system components.</li>
</ul>
</li>
</ol>
<h2>Install Rails</h2>
<ol>
<li>according to steps on <a href="http://api.rubyonrails.org/">offical website</a> do <figure class="highlight lang-bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>gem install rails; rails new rails-test; cd rails-test; rails server
</pre></td></tr></table></figure>


</li>
</ol>
<ol>
<li>when running <code>rails server</code> i met such problem:<figure class="highlight lang-bash"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>$ rails server
/home/zheng/.rvm/gems/ruby-2.0.0-p0/gems/execjs-1.4.0/lib/execjs/runtimes.rb:51:<span class="keyword">in</span> `autodetect<span class="string">': Could not find a JavaScript runtime. 
See https://github.com/sstephenson/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)
</pre></td></tr></table></figure>


</li>
</ol>
<p>This means i need a js engine, and i install the <code>nodejs</code> instead, and it&#39;s ok</p>
<ol>
<li><p>try to open <code>localhost:3000</code>, and you&#39;ll see welcome page</p>
</li>
<li><p>Switch to MySQL instead of SQLite3:  </p>
<ul>
<li>the config file is in config/database.yml and change the &quot;development&quot; section like that    </li>
<li>add <code>gem &#39;mysql2&#39;</code> to Gemfile</li>
<li>run <code>rake db:create</code> to check is there any problem <figure class="highlight lang-bash"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>development:
    adapter: mysql2
    encoding: utf8
    database: rails-test
    pool: 5
    username: root
    password:
    socket: /var/run/mysqld/mysqld.sock
</pre></td></tr></table></figure>


</li>
</ul>
</li>
</ol>
<p><strong> Remember the test section will also be set to mySQL</strong>
<a name="more"></a></p>
<h2>Hello Rails</h2>
<ol>
<li>Try to run <code>rails generate controller home index</code>  then u will see many files created<ul>
<li>create home folder and create index page</li>
<li>modify <code>app/views/home/index.html.erb</code> which will tell us how to show index page</li>
<li>rm default index &quot;public/index.html&quot; which is the static page</li>
<li>modify <code>config/routes.rb</code> uncomment and change to <code>root :to =&gt; &quot;home#index&quot;</code></li>
</ul>
</li>
</ol>
<h2>Creating a Resource</h2>
<ol>
<li><p>Create by scaffold like  <code>rails generate scaffold Post name:string title:string content:text</code></p>
</li>
<li><p>Running a Migration</p>
<ul>
<li>Migrations are Ruby classes taht are designed to make it simple to create and modify database tables. it&#39;s path <code>db/migrate/#timestamp#_create_posts.</code></li>
<li>run the migration:<figure class="highlight lang-bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ rake db:migrate
</pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Add a Link add <code>&lt;%=link_to &quot;My Blog&quot;, posts_path%&gt;</code> to index.html.erb</p>
</li>
<li><p>Add some data, now using <code>rails console</code></p>
<figure class="highlight lang-bash"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>p = Post.new(:title =&gt; <span class="string">"Title"</span>, :content=&gt;<span class="string">"Hellooo"</span>, :name=&gt;<span class="string">"myself"</span>)
p.save  <span class="comment">#if error, try to show "p.errors.full_messages"</span>
</pre></td></tr></table></figure>


</li>
</ol>
<ol>
<li>Listing All Posts<ul>
<li>try to look at <code>app/controllers/posts_controller.rb</code> each method is resposed to each action</li>
<li>in <code>app/views/posts/</code>, each file corresponds to the action name, and u can modify the erb file<figure class="highlight lang-ruby"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="class"><span class="keyword">class</span> <span class="title">PostsController</span> <span class="inheritance">&lt; <span class="parent">ApplicationController</span></span></span>
  <span class="comment"># GET /posts</span>
  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span>
    <span class="variable">@posts</span> = <span class="constant">Post</span>.all   <span class="comment"># =&gt; an array of all posts</span>
    respond_to <span class="keyword">do</span> |format|
      format.html <span class="comment"># index.html.erb</span>
      format.json { render <span class="symbol">json:</span> <span class="variable">@posts</span> }
    <span class="keyword">end</span>
  <span class="keyword">end</span>
  ...
<span class="keyword">end</span>
</pre></td></tr></table></figure>


</li>
</ul>
</li>
</ol>
<p>6.Customize Layout, u should create erb file in layout to specific layout, like <code>app/views/layouts/posts.html.erb</code>, and the file <code>application.html.erb</code> is for whole website</p>
<h1>Detail Study</h1>
<h2>Models</h2>
<h2>Views</h2>
<h2>Controllers</h2>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/RubyRails/">RubyRails</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
    <wb:share-button appkey="4RnYKk" addition="number" type="button" ralateUid="1653855452" language="zh_cn"></wb:share-button>
    
    
    
      <a class="addthis_button_tweet"></a>
    
    
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>


      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:hadwinzhy.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/ACM/">ACM</a><small>1</small></li>
  
    <li><a href="/tags/Book_Notes/">Book_Notes</a><small>2</small></li>
  
    <li><a href="/tags/Compiler/">Compiler</a><small>1</small></li>
  
    <li><a href="/tags/Idea/">Idea</a><small>1</small></li>
  
    <li><a href="/tags/JVM/">JVM</a><small>2</small></li>
  
    <li><a href="/tags/Life/">Life</a><small>1</small></li>
  
    <li><a href="/tags/Photo/">Photo</a><small>1</small></li>
  
    <li><a href="/tags/RubyRails/">RubyRails</a><small>1</small></li>
  
    <li><a href="/tags/Travel/">Travel</a><small>3</small></li>
  
    <li><a href="/tags/WebTech/">WebTech</a><small>2</small></li>
  
    <li><a href="/tags/下午茶/">下午茶</a><small>1</small></li>
  
    <li><a href="/tags/专题-棚户区/">专题-棚户区</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget twitter">
  <h3 class="title">Tweets</h3>
  <ul id="tweets"></ul>
</div>

<script type="text/javascript">
var twitter_stream = ['masterzheng', 5, false];
var moment_js_path = '/js/moment.min.js';
</script>
<script src="/js/twitter.js"></script>


</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 Hadwin Zheng
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'hadwinzhy';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>